library(dplyr)
library(tidyr)
library(ggplot2)
data <- read.csv(unzip('activity.zip'))
setwd("~/GitHub/RepData_PeerAssessment1")
data <- read.csv(unzip('activity.zip'))
View(data)
(function(d){ # count row with na's
count(data, steps, is.na)
})(data)
(function(d){ # count row with na's
count(data, steps, is.na(steps))
})(data)
count(data, steps, is.na(steps))
count(data, is.na(steps))
count(data, is.na(steps) = TRUE)
(function(d){ # count row with na's
count(data, is.na(steps) == TRUE)
})(data)
(function(d){ # count row with na's
count(data, is.na(steps))
})(data)
(function(d){ # count row with na's
count(data, is.na(date))
})(data)
(function(d){ # count row with na's
count(data, is.na(interval))
})(data)
filledData <- (function(d){
d
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(filledData, by = 'interval')
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(filledData, by = c('interval',  'date'))
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(filledData, by = interval)
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(filledData, by = 'interval')
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(filledData)
})(data)
rm(list = ls())
---
data <- read.csv(unzip('activity.zip'))
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(filledData, by = c('date', 'interval'))
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(averageStepData, by = c('date', 'interval'))
})(data)
averageStepData <- data %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
data %>% left_join(averageStepData, by = c('date', 'interval'))
data %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
perinterval <- data %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
data %>%
group_by(interval)
data %>% distinct(interval)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(filledData, by = 'interval')
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(filledData, by = 'interval')
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>% left_join(averageStepData, by = 'interval')
})(data)
filledData <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>%
left_join(averageStepData, by = 'interval') %>%
mutate(filledSteps = ifelse(is.na(steps), stepsperinterval, steps))
})(data)
View(filledData)
filledData %>% filter(is.na(steps))
View(filledData)
dataFillStrategy <- (function(d){
averageStepData <- d %>%
group_by(interval) %>%
select(steps) %>%
summarise(stepsperinterval = mean(steps, na.rm = TRUE))
d %>%
left_join(averageStepData, by = 'interval') %>%
mutate(filledSteps = ifelse(is.na(steps), stepsperinterval, steps))
})(data)
filledData <- select(dataFillStrategy, steps, date, interval)
View(dataFillStrategy)
filledData <- select(steps = filledSteps, date, interval)
filledData <- dataFillStrategy %>%
select(filledSteps, date, interval) %>%
rename(steps = filledSteps)
View(filledData)
(function(d) { # generate histogram
perday <- d %>%
group_by(date) %>%
select(steps) %>%
summarise(stepsperday = sum(steps, na.rm = TRUE))
qplot(perday$stepsperday, geom="histogram")
})(filledData)
filledData <- dataFillStrategy %>%
select(filledSteps, date, interval) %>%
rename(steps = filledSteps)
(function(d) { # generate histogram
perday <- d %>%
group_by(date) %>%
select(steps) %>%
summarise(stepsperday = sum(steps, na.rm = TRUE))
qplot(perday$stepsperday, geom="histogram")
})(filledData)
(function(d) { # get mean daily total
d %>%
group_by(date) %>%
select(steps) %>%
summarise(stepsperday = sum(steps, na.rm = TRUE)) %>%
summarise(mean(stepsperday, rm.na = TRUE))
})(filledData)
(function(d) { # get mean daily total
d %>%
group_by(date) %>%
select(steps) %>%
summarise(stepsperday = sum(steps, na.rm = TRUE)) %>%
summarise(mean(stepsperday))
})(filledData)
(function(d) { # get mean daily total
d %>%
group_by(date) %>%
select(steps) %>%
summarise(stepsperday = sum(steps, na.rm = TRUE)) %>%
summarise(mean(stepsperday, rm.na = TRUE))
})(filledData)
(function(d) { # get mean daily total
d %>%
group_by(date) %>%
select(steps) %>%
summarise(stepsperday = sum(steps, na.rm = TRUE)) %>%
summarise(mean(stepsperday))
})(data)
(function(d) { # get mean daily total
d %>%
group_by(date) %>%
select(steps) %>%
summarise(stepsperday = sum(steps, na.rm = TRUE)) %>%
summarise(mean(stepsperday, rm.na = TRUE))
})(data)
rm(list=ls())
